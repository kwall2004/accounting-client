<div class="text-secondary row mb-2 lead font-weight-bold">
  <div class="col d-flex align-items-stretch">
    <button class="btn btn-secondary" (click)="onPreviousMonthClick()">
      <i class="fa fa-chevron-left"></i>
    </button>
    <div>
      <button class="btn btn-secondary" [disabled]="!(loading$ | async) && captured$ | async" style="min-width: 180px;" (click)="onMonthNameClick()">
        {{monthName$ | async}}
      </button>
    </div>
    <button class="btn btn-secondary" (click)="onNextMonthClick()">
      <i class="fa fa-chevron-right"></i>
    </button>
  </div>
  <div class="col text-right">
    {{beginningBalance$ | async | number: '1.2-2'}}
  </div>
</div>
<div class="d-none d-xl-block">
  <div class="row text-center text-muted font-weight-bold mb-2">
    <div class="col">Sun</div>
    <div class="col">Mon</div>
    <div class="col">Tue</div>
    <div class="col">Wed</div>
    <div class="col">Thu</div>
    <div class="col">Fri</div>
    <div class="col">Sat</div>
  </div>
</div>
<div class="row border mb-5">
  <ng-container *ngFor="let week of weeks">
    <div *ngFor="let day of week" class="col border p-2 day" [ngClass]="{'disabled d-none d-xl-block': day.disabled}">
      <div class="font-weight-bold text-secondary mb-2 d-flex justify-content-between">
        <div>
          {{day.date.getDate()}}
        </div>
        <div>
          {{!day.disabled ? (day.balance | number: '1.2-2') : ''}}
        </div>
      </div>
      <div *ngFor="let transaction of day.transactions" class="d-flex justify-content-between border rounded my-1 btn"
        [ngClass]="{'btn-primary': transaction.cleared, 'btn-danger': !transaction.cleared}">
        <div class="px-1" (click)="onTransactionDescriptionClick(transaction)">
          {{transaction.description}}
        </div>
        <div class="px-1" (click)="onTransactionAmountClick(transaction)">
          {{transaction.amount | number: '1.2-2'}}
        </div>
      </div>
      <div *ngFor="let recurrence of day.recurrences" class="d-flex justify-content-between border rounded my-1 btn btn-warning font-italic"
        (click)="onRecurrenceClick(recurrence)">
        <div class="px-1">
          {{recurrence.description}}
        </div>
        <div class="px-1">
          {{recurrence.amount | number: '1.2-2'}}
        </div>
      </div>
    </div>
    <div class="w-100 d-none d-xl-block"></div>
  </ng-container>
</div>
